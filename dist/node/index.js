"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("crypto"),t=require("fs"),r=require("path");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=n(t);const o=new Function("try {return this===global;}catch(e){return false;}"),i=new Function("try {return this===window;}catch(e){ return false;}");function s(e){try{if(o())return!!u.default.existsSync(e)}catch(e){return!1}}exports.copyFile=async function(e,t){return!i()&&await new Promise((r=>{u.default.copyFile(e,t,(e=>r(!e)))}))},exports.deleteFile=async function(e){try{return o()&&s(e)&&u.default.unlinkSync(e),!0}catch(e){return!1}},exports.extName=function(e){if(o())return r.extname(e)||""},exports.fileExists=s,exports.fileHash=async function(t,r="md5"){return!i()&&new Promise(((n,o)=>{try{const o=e.createHash(r),i=u.default.ReadStream(t);i.on("data",(e=>o.update(e))),i.on("end",(()=>{const e=o.digest("hex");return n(e)}))}catch(e){return o(e)}}))},exports.fileParse=function(e){if(o())return e&&r.parse(e)},exports.isBrowser=i,exports.isNode=o,exports.pathJoin=function(...e){if(o())return r.join(...e)},exports.renameFile=function(e,t,r){try{return!!o()&&(r&&s(t)&&u.default.unlinkSync(t),u.default.renameSync(e,t),!0)}catch(e){return!1}},exports.toBase64Img=function(e){const t=function(e){try{return!!require.resolve(e)}catch(t){return console.error(`'${e}' is not found`)&&!1}}("base64-img")&&require("base64-img");return t&&t.base64Sync(e)};
//# sourceMappingURL=index.js.map
